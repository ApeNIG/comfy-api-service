# ComfyUI API Service - Environment Configuration
# Copy this file to .env and customize the values

# ===================================================================
# Redis Configuration
# ===================================================================
REDIS_URL=redis://localhost:6379
REDIS_PREFIX=cui

# ===================================================================
# ARQ (Job Queue) Configuration
# ===================================================================
ARQ_QUEUE_NAME=default
ARQ_MAX_JOBS=1000
ARQ_WORKER_CONCURRENCY=5

# ===================================================================
# Job Settings
# ===================================================================
JOB_TIMEOUT=1200  # 20 minutes max per job
MAX_BATCH_SIZE=10  # Max images per batch
MAX_MEGAPIXELS=4  # 2048x2048 ~ 4.2MP

# ===================================================================
# Storage Configuration (MinIO/S3)
# ===================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=comfyui-artifacts
MINIO_SECURE=false  # Use HTTPS (true for AWS S3, false for local MinIO)
ARTIFACT_URL_TTL=3600  # 1 hour for presigned URLs

# ===================================================================
# ComfyUI Configuration
# ===================================================================
COMFYUI_URL=http://localhost:8188
COMFYUI_TIMEOUT=300.0

# ===================================================================
# Feature Flags
# ===================================================================
JOBS_ENABLED=true  # Enable async job queue
WEBSOCKET_ENABLED=true  # Enable WebSocket progress updates

# ===================================================================
# API Configuration
# ===================================================================
API_VERSION=1.0.1
SERVICE_NAME=ComfyUI API Service
MAX_UPLOAD_SIZE=10485760  # 10MB

# ===================================================================
# Development
# ===================================================================
DEBUG=false
